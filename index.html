<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Augusuのブログ</title>
  <link rel="alternate" type="application/rss+xml" title="Augusu Blog RSS" href="feed.xml">
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500&family=Zen+Kaku+Gothic+New:wght@400;500;700&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/12.0.1/marked.min.js"></script>
  <style>
    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body {
      font-family: 'Zen Kaku Gothic New', sans-serif;
      background: #faf5f3;
      color: #4a3535;
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
    }
    :root {
      --bg: #faf5f3; --bg-soft: #f3ebe7; --card: #ffffff;
      --azuki: #9b6b6b; --azuki-light: #c4a0a0; --azuki-pale: #e8d5d0;
      --azuki-deep: #7a4f4f; --text: #4a3535; --text-soft: #8a7070;
      --accent: #d4877a; --border: #e8d5d0; --white: #ffffff;
      --serif: 'Cormorant Garamond', serif;
      --sans: 'Zen Kaku Gothic New', sans-serif;
    }

    /* ─── Navbar ─── */
    .navbar {
      position: fixed; top: 0; left: 0; right: 0; z-index: 100;
      display: flex; align-items: center; justify-content: space-between;
      padding: 14px 32px;
      background: rgba(250,245,243,0.92);
      backdrop-filter: blur(14px); -webkit-backdrop-filter: blur(14px);
      border-bottom: 1px solid var(--border);
      transition: box-shadow 0.3s ease;
    }
    .navbar.scrolled { box-shadow: 0 2px 20px rgba(155,107,107,0.06); }
    .nav-logo {
      display: flex; align-items: center; gap: 8px;
      text-decoration: none; font-family: var(--serif);
      font-size: 20px; font-weight: 400; color: var(--text);
      letter-spacing: 0.06em; cursor: pointer; border: none; background: none;
    }
    .nav-logo-icon {
      width: 28px; height: 28px; border-radius: 8px;
      background: linear-gradient(135deg, var(--azuki), var(--accent));
      display: inline-flex; align-items: center; justify-content: center;
      color: var(--white); font-size: 14px; font-weight: 600;
    }
    .nav-links { display: flex; gap: 4px; }
    .nav-link {
      display: flex; align-items: center; gap: 6px;
      padding: 7px 14px; border-radius: 10px; border: none; cursor: pointer;
      font-size: 13px; font-family: var(--sans);
      background: transparent; color: var(--text-soft); font-weight: 400;
      transition: all 0.2s ease;
    }
    .nav-link:hover { background: rgba(232,213,208,0.4); }
    .nav-link.active { background: rgba(155,107,107,0.08); color: var(--azuki-deep); font-weight: 600; }

    /* ─── Page dots ─── */
    .page-dots {
      display: flex; justify-content: center; gap: 6px;
      padding: 10px 0;
      position: fixed; top: 56px; left: 0; right: 0; z-index: 99;
      background: rgba(250,245,243,0.8); backdrop-filter: blur(8px);
    }
    .page-dot {
      height: 5px; border-radius: 3px;
      background: var(--azuki-pale); transition: all 0.35s ease;
    }
    .page-dot.active { width: 20px !important; background: var(--accent); }

    /* ─── Main ─── */
    .main-content { max-width: 740px; width: 100%; margin: 0 auto; padding: 90px 24px 0; }
    .section {
      padding: 48px 0 56px; min-height: 50vh;
      opacity: 0; transform: translateY(20px);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }
    .section.visible { opacity: 1; transform: translateY(0); }
    .section-divider { width: 60px; height: 1px; background: var(--azuki-pale); margin: 0 auto; }
    .section-title {
      font-family: var(--serif); font-size: 28px; font-weight: 400;
      color: var(--text); margin-bottom: 24px; letter-spacing: 0.04em;
    }

    /* ─── Hero ─── */
    .hero { text-align: center; padding: 56px 0 40px; }
    .hero h1 {
      font-family: var(--serif); font-size: 44px; font-weight: 300;
      color: var(--text); margin-bottom: 12px; letter-spacing: 0.06em;
    }
    .hero p { font-size: 14px; color: var(--text-soft); letter-spacing: 0.08em; }

    /* ─── Cards ─── */
    .card {
      background: var(--card); border-radius: 14px;
      border: 1px solid var(--border);
      transition: transform 0.25s ease, box-shadow 0.25s ease; cursor: pointer;
    }
    .card:hover { transform: translateY(-3px); box-shadow: 0 8px 24px rgba(155,107,107,0.1); }
    .card-sm:hover { transform: translateY(-2px); box-shadow: 0 6px 18px rgba(155,107,107,0.08); }

    .tag {
      display: inline-block; padding: 2px 10px; border-radius: 12px;
      font-size: 11px; font-weight: 500; letter-spacing: 0.02em;
    }
    .recommend-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 32px; }
    .recommend-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 14px; margin-bottom: 40px; }

    /* ─── Blog ─── */
    .blog-list { display: flex; flex-direction: column; gap: 14px; margin-bottom: 24px; }
    .blog-item {
      background: var(--card); border-radius: 14px; padding: 22px 26px;
      border: 1px solid var(--border);
      display: flex; justify-content: space-between; align-items: flex-start; gap: 20px;
      cursor: pointer; transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .blog-item:hover { transform: translateX(4px); box-shadow: inset 3px 0 0 var(--accent); }
    .blog-item h3 { font-size: 16px; font-weight: 600; color: var(--text); line-height: 1.5; margin-bottom: 5px; }
    .blog-item p { font-size: 13px; color: var(--text-soft); line-height: 1.7; }
    .blog-date { font-size: 12px; color: var(--azuki-light); white-space: nowrap; margin-top: 4px; }

    /* ─── Pagination ─── */
    .pagination { display: flex; justify-content: center; align-items: center; gap: 16px; margin-top: 8px; }
    .page-btn {
      width: 36px; height: 36px; border-radius: 10px; border: 1px solid var(--border);
      background: var(--card); cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      color: var(--text-soft); transition: all 0.2s ease;
    }
    .page-btn:hover:not(:disabled) { background: var(--azuki); color: var(--white); border-color: var(--azuki); }
    .page-btn:disabled { opacity: 0.3; cursor: not-allowed; }
    .page-info { font-size: 12px; color: var(--text-soft); letter-spacing: 0.04em; }

    /* ─── Product ─── */
    .product-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 20px; }
    .product-card {
      background: var(--card); border-radius: 14px; border: 1px solid var(--border);
      overflow: hidden; cursor: pointer;
      transition: transform 0.25s ease, box-shadow 0.25s ease;
    }
    .product-card:hover { transform: translateY(-3px); box-shadow: 0 8px 24px rgba(155,107,107,0.08); }
    .product-thumb { height: 90px; display: flex; align-items: center; justify-content: center; }
    .product-thumb-inner { width: 44px; height: 44px; border-radius: 12px; background: rgba(255,255,255,0.45); }
    .product-info { padding: 16px 18px; }
    .product-info h3 { font-size: 14px; font-weight: 600; color: var(--text); margin-bottom: 3px; }
    .product-info p { font-size: 12px; color: var(--text-soft); line-height: 1.5; }
    .more-btn {
      display: block; width: 100%; padding: 13px 0; border-radius: 12px;
      border: 1px dashed var(--azuki-light); background: transparent;
      color: var(--azuki); font-size: 13px; font-family: var(--sans);
      letter-spacing: 0.06em; cursor: pointer; transition: all 0.25s ease; margin-top: 4px;
    }
    .more-btn:hover { background: var(--azuki); color: var(--white); border-style: solid; }

    /* ─── About ─── */
    .about-header { display: flex; gap: 28px; align-items: flex-start; margin-bottom: 32px; }
    .about-avatar {
      width: 80px; height: 80px; border-radius: 20px; object-fit: cover; flex-shrink: 0;
      box-shadow: 0 4px 16px rgba(155,107,107,0.15);
    }
    .about-name { font-family: var(--serif); font-size: 24px; font-weight: 400; color: var(--text); margin-bottom: 4px; letter-spacing: 0.04em; }
    .about-role { font-size: 13px; color: var(--text-soft); letter-spacing: 0.02em; }
    .about-bio {
      background: var(--card); border-radius: 16px; padding: 28px 32px;
      border: 1px solid var(--border); margin-bottom: 24px;
    }
    .about-bio p { font-size: 15px; color: var(--text); line-height: 2; }
    .about-bio p + p { margin-top: 16px; }
    .skill-tags { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 48px; }
    .skill-tag {
      padding: 5px 14px; border-radius: 16px; font-size: 12px;
      color: var(--azuki); background: rgba(232,213,208,0.35);
      border: 1px solid var(--azuki-pale); letter-spacing: 0.02em;
    }
    .scroll-hint { text-align: center; cursor: pointer; padding: 12px 0 0; opacity: 0.7; transition: opacity 0.3s; }
    .scroll-hint:hover { opacity: 1; }
    .scroll-hint p { font-size: 12px; color: var(--azuki-light); margin-bottom: 8px; letter-spacing: 0.06em; }
    .scroll-line {
      width: 1px; height: 32px;
      background: linear-gradient(to bottom, var(--azuki-light), transparent);
      margin: 0 auto; animation: scrollPulse 2s ease-in-out infinite;
    }
    @keyframes scrollPulse {
      0%, 100% { opacity: 0.4; transform: scaleY(1); }
      50% { opacity: 1; transform: scaleY(1.3); }
    }
    .contact-section { padding-top: 32px; min-height: 30vh; }
    .contact-title { font-family: var(--serif); font-size: 22px; font-weight: 400; color: var(--text); margin-bottom: 8px; letter-spacing: 0.04em; }
    .contact-desc { font-size: 14px; color: var(--text-soft); line-height: 1.8; margin-bottom: 24px; }
    .contact-links { display: flex; flex-direction: column; gap: 14px; }
    .contact-link {
      display: flex; align-items: center; justify-content: space-between;
      background: var(--card); border-radius: 14px; padding: 20px 24px;
      border: 1px solid var(--border); text-decoration: none;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .contact-link:hover { transform: translateX(4px); box-shadow: 0 4px 16px rgba(155,107,107,0.08); }
    .contact-link-inner { display: flex; align-items: center; gap: 14px; }
    .contact-icon {
      width: 40px; height: 40px; border-radius: 10px;
      display: flex; align-items: center; justify-content: center;
      font-weight: 700; font-size: 15px;
    }
    .contact-name { font-size: 15px; font-weight: 600; color: var(--text); }
    .contact-handle { font-size: 12px; color: var(--text-soft); }

    /* ─── Footer ─── */
    .footer {
      border-top: 1px solid var(--border); padding: 20px 32px;
      display: flex; align-items: center; justify-content: space-between; margin-top: 40px;
    }
    .footer-copy { font-family: var(--serif); font-size: 13px; color: var(--azuki-light); letter-spacing: 0.04em; }
    .rss-btn {
      background: none; border: 1px solid var(--border); border-radius: 8px;
      padding: 5px 12px; display: flex; align-items: center; gap: 6px;
      cursor: pointer; color: var(--text-soft); font-size: 12px; font-family: var(--sans);
      transition: all 0.2s ease;
    }
    .rss-btn:hover { border-color: var(--azuki-light); color: var(--azuki); }

    /* ─── Post overlay ─── */
    .post-overlay {
      position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 200;
      background: rgba(74,53,53,0.3);
      backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px);
      opacity: 0; pointer-events: none;
      transition: opacity 0.3s ease;
    }
    .post-overlay.open { opacity: 1; pointer-events: auto; }
    .post-panel {
      position: absolute; top: 0; right: 0; bottom: 0;
      width: min(640px, 90vw);
      background: var(--bg);
      border-left: 1px solid var(--border);
      overflow-y: auto;
      transform: translateX(100%);
      transition: transform 0.35s cubic-bezier(0.4,0,0.2,1);
      padding: 0;
    }
    .post-overlay.open .post-panel { transform: translateX(0); }
    .post-panel-header {
      position: sticky; top: 0; z-index: 10;
      display: flex; align-items: center; justify-content: space-between;
      padding: 16px 28px;
      background: rgba(250,245,243,0.95);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--border);
    }
    .post-close-btn {
      width: 32px; height: 32px; border-radius: 8px; border: 1px solid var(--border);
      background: var(--card); cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      color: var(--text-soft); transition: all 0.2s ease;
    }
    .post-close-btn:hover { background: var(--azuki); color: var(--white); border-color: var(--azuki); }
    .post-panel-body { padding: 36px 32px 60px; }
    .post-panel-body .post-meta {
      display: flex; gap: 8px; align-items: center; margin-bottom: 20px; flex-wrap: wrap;
    }
    .post-panel-body .post-date-label { font-size: 13px; color: var(--azuki-light); }

    /* ─── Markdown styles ─── */
    .md-content h1 {
      font-family: var(--serif); font-size: 28px; font-weight: 400;
      color: var(--text); margin-bottom: 24px; line-height: 1.5; letter-spacing: 0.02em;
    }
    .md-content h2 {
      font-family: var(--sans); font-size: 18px; font-weight: 700;
      color: var(--text); margin: 32px 0 12px;
      padding-bottom: 8px; border-bottom: 1px solid var(--border);
    }
    .md-content h3 { font-size: 16px; font-weight: 700; color: var(--text); margin: 24px 0 8px; }
    .md-content p { font-size: 15px; color: var(--text); line-height: 2; margin-bottom: 16px; }
    .md-content ul, .md-content ol { padding-left: 24px; margin-bottom: 16px; }
    .md-content li { font-size: 15px; color: var(--text); line-height: 2; margin-bottom: 4px; }
    .md-content code {
      font-family: 'SFMono-Regular', 'Consolas', monospace;
      background: var(--bg-soft); padding: 2px 6px; border-radius: 4px;
      font-size: 13px; color: var(--azuki-deep);
    }
    .md-content pre {
      background: #2d2424; color: #e8d5d0; border-radius: 12px;
      padding: 20px 24px; margin-bottom: 20px; overflow-x: auto;
    }
    .md-content pre code {
      background: none; padding: 0; color: inherit; font-size: 13px; line-height: 1.7;
    }
    .md-content blockquote {
      border-left: 3px solid var(--azuki-pale); padding: 12px 20px;
      margin: 16px 0; background: var(--bg-soft); border-radius: 0 8px 8px 0;
    }
    .md-content blockquote p { color: var(--text-soft); margin-bottom: 0; }

    /* ─── Fade animation ─── */
    .fade-item {
      opacity: 0; transform: translateY(14px);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }
    .fade-item.show { opacity: 1; transform: translateY(0); }

    /* ─── SVG icons inline ─── */
    .icon-ext { display: inline-block; vertical-align: middle; }

    /* ─── Responsive ─── */
    @media (max-width: 640px) {
      .navbar { padding: 12px 16px; }
      .nav-links { gap: 2px; }
      .nav-link { padding: 6px 10px; font-size: 12px; }
      .nav-link svg { display: none; }
      .main-content { padding: 82px 16px 0; }
      .hero h1 { font-size: 32px; }
      .recommend-grid { grid-template-columns: 1fr; }
      .recommend-row { grid-template-columns: 1fr 1fr; }
      .product-grid { grid-template-columns: 1fr; }
      .blog-item { flex-direction: column; gap: 8px; }
      .about-header { flex-direction: column; align-items: center; text-align: center; }
      .post-panel { width: 100vw; }
      .post-panel-body { padding: 24px 20px 40px; }
    }
  </style>
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar" id="navbar">
    <button class="nav-logo" onclick="goTo('home')">
      <span class="nav-logo-icon">A</span> Augusu
    </button>
    <div class="nav-links">
      <button class="nav-link active" data-section="home" onclick="goTo('home')">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
        Home
      </button>
      <button class="nav-link" data-section="blog" onclick="goTo('blog')">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
        Blog
      </button>
      <button class="nav-link" data-section="product" onclick="goTo('product')">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/></svg>
        Product
      </button>
      <button class="nav-link" data-section="about" onclick="goTo('about')">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
        About Me
      </button>
    </div>
  </nav>

  <!-- Page dots -->
  <div class="page-dots" id="pageDots">
    <div class="page-dot active" style="width:20px" data-section="home"></div>
    <div class="page-dot" style="width:6px" data-section="blog"></div>
    <div class="page-dot" style="width:6px" data-section="product"></div>
    <div class="page-dot" style="width:6px" data-section="about"></div>
  </div>

  <!-- Main -->
  <div class="main-content">

    <!-- HOME -->
    <section class="section visible" id="home">
      <div class="hero">
        <h1>Augusu Blog</h1>
        <p>学び、作り、考える。日々の記録。</p>
      </div>
      <h2 class="section-title fade-item">おすすめ</h2>
      <div class="recommend-grid" id="recommendGrid"></div>
      <div class="recommend-row" id="recommendRow"></div>
    </section>

    <div class="section-divider"></div>

    <!-- BLOG -->
    <section class="section" id="blog">
      <h2 class="section-title">Blog</h2>
      <div class="blog-list" id="blogList"></div>
      <div class="pagination" id="blogPagination" style="display:none">
        <button class="page-btn" id="blogPrev" onclick="blogNav(-1)">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
        </button>
        <span class="page-info" id="blogPageInfo"></span>
        <button class="page-btn" id="blogNext" onclick="blogNav(1)">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
        </button>
      </div>
    </section>

    <div class="section-divider"></div>

    <!-- PRODUCT -->
    <section class="section" id="product">
      <h2 class="section-title">Product</h2>
      <div class="product-grid" id="productGrid"></div>
      <button class="more-btn" id="productMore" onclick="productMore()">もっと見る ＋</button>
      <div class="pagination" id="productPagination" style="display:none">
        <button class="page-btn" id="prodPrev" onclick="productNav(-1)">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
        </button>
        <span class="page-info" id="prodPageInfo"></span>
        <button class="page-btn" id="prodNext" onclick="productNav(1)">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
        </button>
      </div>
    </section>

    <div class="section-divider"></div>

    <!-- ABOUT ME -->
    <section class="section" id="about">
      <h2 class="section-title">About Me</h2>
      <div class="about-header">
        <img src="images/avatar.jpeg" alt="Augusu" class="about-avatar">
        <div>
          <h3 class="about-name">Augusu</h3>
          <p class="about-role">開発者 / 思考する人</p>
        </div>
      </div>
      <div class="about-bio">
        <p>学ぶこと、作ること、考えることが好きです。テクノロジーと哲学の交差点で、小さなプロジェクトや文章を生み出しています。</p>
        <p>このブログでは、日々の学びや実験、考察を記録しています。コードを書くことも、言葉を紡ぐことも、どちらも同じ「表現」だと思っています。</p>
      </div>
      <div class="skill-tags">
        <span class="skill-tag">JavaScript</span><span class="skill-tag">React</span>
        <span class="skill-tag">Three.js</span><span class="skill-tag">Python</span>
        <span class="skill-tag">哲学</span><span class="skill-tag">仏教思想</span>
        <span class="skill-tag">AI</span>
      </div>
      <div class="scroll-hint" onclick="document.getElementById('contact').scrollIntoView({behavior:'smooth'})">
        <p>Contact</p>
        <div class="scroll-line"></div>
      </div>
      <div class="contact-section" id="contact">
        <h3 class="contact-title">Contact</h3>
        <p class="contact-desc">ご連絡はSNSからお気軽にどうぞ。</p>
        <div class="contact-links">
          <a href="#" class="contact-link">
            <div class="contact-link-inner">
              <div class="contact-icon" style="background:rgba(0,133,255,0.08);color:#0085ff;">B</div>
              <div><div class="contact-name">Bluesky</div><div class="contact-handle">https://bsky.app/profile/augusu.bsky.social</div></div>
            </div>
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="var(--azuki-light)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
          </a>
          <a href="#" class="contact-link">
            <div class="contact-link-inner">
              <div class="contact-icon" style="background:rgba(51,51,51,0.08);color:#333;">G</div>
              <div><div class="contact-name">GitHub</div><div class="contact-handle">https://github.com/augusu-dev</div></div>
            </div>
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="var(--azuki-light)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
          </a>
        </div>
      </div>
    </section>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <span class="footer-copy">© 2026 Augusu Blog</span>
    <button class="rss-btn">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 0 1 9 9"/><path d="M4 4a16 16 0 0 1 16 16"/><circle cx="5" cy="19" r="1"/></svg>
      RSS
    </button>
  </footer>

  <!-- Post overlay (slide-in panel) -->
  <div class="post-overlay" id="postOverlay" onclick="closePost(event)">
    <div class="post-panel" onclick="event.stopPropagation()">
      <div class="post-panel-header">
        <span style="font-size:13px;color:var(--text-soft)" id="postHeaderDate"></span>
        <button class="post-close-btn" onclick="closePost()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
        </button>
      </div>
      <div class="post-panel-body">
        <div class="post-meta" id="postMeta"></div>
        <div class="md-content" id="postContent">
          <p style="color:var(--text-soft)">読み込み中...</p>
        </div>
      </div>
    </div>
  </div>

  <script>
    /* ─── State ─── */
    let posts = [];
    let products = [];
    const BLOG_PER_PAGE = 7;
    const PROD_PER_PAGE = 12;
    let blogPage = 0;
    let prodShown = 4;
    let prodPage = 0;
    let prodPagMode = false;

    const TAG_COLORS = {
      "AI":"#d4877a","思考":"#8a7a6b","コード":"#6b7a8a","3D":"#8a6b7a",
      "哲学":"#7a6b8a","テクノロジー":"#d4877a","社会":"#6b8a7a",
      "作品":"#7a8a6b","ツール":"#6b8a8a","デザイン":"#8a6b6b","言語":"#6b6b8a",
    };

    function tag(label) {
      const c = TAG_COLORS[label] || "#9b6b6b";
      return `<span class="tag" style="color:${c};background:${c}18;border:1px solid ${c}30">${label}</span>`;
    }

    function formatDate(d) { return d.replace(/-/g, '.'); }

    /* ─── Inline fallback data (used when fetch fails, e.g. file:// protocol) ─── */
    const INLINE_POSTS = [
      { id:"ai-creativity", title:"AIと創造性の境界線について", date:"2026-02-05", tags:["AI","思考"], excerpt:"人工知能が生成するものは本当に「創造」と呼べるのか。境界線はどこにあるのか考察する。" },
      { id:"threejs-universe", title:"Three.jsで作る小さな宇宙", date:"2026-01-28", tags:["コード","3D"], excerpt:"ブラウザ上で星空をシミュレートする実験。WebGLの可能性を探る。" },
      { id:"zen-programming", title:"禅とプログラミング", date:"2026-01-15", tags:["哲学","コード"], excerpt:"一行一行のコードに宿る意図と、禅の「一期一会」の共通点。" },
      { id:"decentralized-thinking", title:"分散型思考の時代", date:"2026-01-02", tags:["テクノロジー","社会"], excerpt:"ブロックチェーンの概念が思考様式にもたらす影響について。" },
      { id:"words-and-interface", title:"言葉とインターフェース", date:"2025-12-20", tags:["デザイン","思考"], excerpt:"UIデザインにおける言語選択の重要性を考える。" },
      { id:"rust-intro", title:"Rustに入門してみて", date:"2025-12-10", tags:["コード","言語"], excerpt:"所有権モデルが教えてくれる、メモリと責任の関係性。" },
      { id:"2025-review", title:"2025年の振り返り", date:"2025-12-31", tags:["思考"], excerpt:"一年を通じて学んだこと、作ったもの、考えたことを総括する。" },
      { id:"ai-ethics", title:"生成AIの倫理的フレームワーク", date:"2025-11-25", tags:["AI","社会"], excerpt:"AIが生成するコンテンツに対する倫理的考察。" },
      { id:"webgpu-notes", title:"WebGPU入門ノート", date:"2025-11-15", tags:["コード","3D"], excerpt:"次世代グラフィックスAPIの基礎を学ぶ。" },
      { id:"yogacara-cognitive-science", title:"唯識論と認知科学", date:"2025-11-01", tags:["哲学"], excerpt:"古代仏教哲学と現代科学の意外な接点。" },
    ];

    const PROD_NAMES = ["ミニツール A","実験プロジェクト B","学習ノート C","CLI ツール D","カラーパレット E","Markdownエディタ F","タイマーアプリ G","フォント比較 H","API テスター I","コード整形 J","JSON ビューア K","正規表現テスト L","画像圧縮 M","CSS ジェネレータ N","SVG エディタ O","音声メモ P"];
    const PROD_DESCS = ["日常を少し便利にするWebアプリ","Three.jsを使った3D実験","公開学習ログテンプレート","開発効率を上げるCLIツール","調和のとれた配色を自動生成","シンプルで軽量なエディタ","集中を助けるポモドーロ","フォントを並べて比較","APIの動作確認ツール","コードを美しく整形","JSONを見やすく表示","正規表現をテスト・共有","ブラウザで画像を軽量化","CSSプロパティを視覚的に","SVGをブラウザで編集","音声をテキストに変換"];
    const PROD_COLORS = ["#e8d5d0","#d5dde8","#d5e8d8","#e8e0d5","#e0d5e8","#d5e8e5","#e8d5db","#dde8d5","#d5d8e8","#e8e5d5","#d5e8e0","#e5d5e8","#e8ddd5","#d5e0e8","#dbe8d5","#e8d5e5"];
    const INLINE_PRODUCTS = PROD_NAMES.map((n, i) => ({ id: i+1, name: n, desc: PROD_DESCS[i], color: PROD_COLORS[i] }));

    /* ─── Load data (fetch with inline fallback) ─── */
    async function init() {
      // Try to load from JSON files; fall back to inline data
      try {
        const res = await fetch('posts.json');
        if (res.ok) posts = await res.json();
        else posts = INLINE_POSTS;
      } catch { posts = INLINE_POSTS; }

      try {
        const res = await fetch('products.json');
        if (res.ok) products = await res.json();
        else products = INLINE_PRODUCTS;
      } catch { products = INLINE_PRODUCTS; }

      renderHome();
      renderBlog();
      renderProduct();
      setupObserver();
      window.addEventListener('scroll', updateNav, { passive: true });
      updateNav();

      // Initial fade-in
      requestAnimationFrame(() => {
        document.querySelectorAll('#home .fade-item').forEach((el, i) => {
          setTimeout(() => el.classList.add('show'), 200 + i * 100);
        });
      });
    }

    /* ─── Home ─── */
    function renderHome() {
      const grid = document.getElementById('recommendGrid');
      const row = document.getElementById('recommendRow');
      grid.innerHTML = posts.slice(0, 2).map(p => `
        <div class="card fade-item" style="padding:24px;min-height:140px;display:flex;flex-direction:column;justify-content:space-between" onclick="openPost('${p.id}')">
          <div>
            <div style="display:flex;gap:6px;margin-bottom:12px;flex-wrap:wrap">${p.tags.map(tag).join('')}</div>
            <h3 style="font-size:16px;font-weight:600;line-height:1.5;margin-bottom:8px">${p.title}</h3>
            <p style="font-size:13px;color:var(--text-soft);line-height:1.6">${p.excerpt}</p>
          </div>
          <div style="font-size:12px;color:var(--azuki-light);margin-top:12px">${formatDate(p.date)}</div>
        </div>
      `).join('');

      row.innerHTML = posts.slice(2, 5).map(p => `
        <div class="card card-sm fade-item" style="padding:18px" onclick="openPost('${p.id}')">
          <div style="display:flex;gap:4px;margin-bottom:8px;flex-wrap:wrap">${p.tags.map(tag).join('')}</div>
          <h4 style="font-size:14px;font-weight:600;line-height:1.5;margin-bottom:6px">${p.title}</h4>
          <p style="font-size:12px;color:var(--azuki-light)">${formatDate(p.date)}</p>
        </div>
      `).join('');
    }

    /* ─── Blog ─── */
    function renderBlog() {
      const list = document.getElementById('blogList');
      const totalPages = Math.ceil(posts.length / BLOG_PER_PAGE);
      const start = blogPage * BLOG_PER_PAGE;
      const items = posts.slice(start, start + BLOG_PER_PAGE);

      list.innerHTML = items.map((p, i) => `
        <div class="blog-item fade-item" style="transition-delay:${i * 60}ms" onclick="openPost('${p.id}')">
          <div style="flex:1">
            <div style="display:flex;gap:6px;margin-bottom:10px;flex-wrap:wrap">${p.tags.map(tag).join('')}</div>
            <h3>${p.title}</h3>
            <p>${p.excerpt}</p>
          </div>
          <div class="blog-date">${formatDate(p.date)}</div>
        </div>
      `).join('');

      const pag = document.getElementById('blogPagination');
      if (totalPages > 1) {
        pag.style.display = 'flex';
        document.getElementById('blogPageInfo').textContent = `${blogPage + 1} / ${totalPages}`;
        document.getElementById('blogPrev').disabled = blogPage === 0;
        document.getElementById('blogNext').disabled = blogPage === totalPages - 1;
      } else { pag.style.display = 'none'; }

      fadeIn(list);
    }

    function blogNav(dir) {
      const tp = Math.ceil(posts.length / BLOG_PER_PAGE);
      blogPage = Math.max(0, Math.min(tp - 1, blogPage + dir));
      renderBlog();
      document.getElementById('blog').scrollIntoView({ behavior: 'smooth' });
    }

    /* ─── Product ─── */
    function renderProduct() {
      const grid = document.getElementById('productGrid');
      const btn = document.getElementById('productMore');
      const pag = document.getElementById('productPagination');

      if (!prodPagMode) {
        grid.innerHTML = products.slice(0, prodShown).map(prodCard).join('');
        btn.style.display = (prodShown < 12 && prodShown < products.length) ? 'block' : 'none';

        if (prodShown >= 12 && products.length > 12) {
          prodPagMode = true; prodPage = 0;
          btn.style.display = 'none';
          renderProductPag();
          return;
        }
        pag.style.display = 'none';
      } else {
        renderProductPag();
      }
      fadeIn(grid);
    }

    function renderProductPag() {
      const grid = document.getElementById('productGrid');
      const pag = document.getElementById('productPagination');
      const tp = Math.ceil(products.length / PROD_PER_PAGE);
      const start = prodPage * PROD_PER_PAGE;
      grid.innerHTML = products.slice(start, start + PROD_PER_PAGE).map(prodCard).join('');

      document.getElementById('productMore').style.display = 'none';
      if (tp > 1) {
        pag.style.display = 'flex';
        document.getElementById('prodPageInfo').textContent = `${prodPage + 1} / ${tp}`;
        document.getElementById('prodPrev').disabled = prodPage === 0;
        document.getElementById('prodNext').disabled = prodPage === tp - 1;
      } else { pag.style.display = 'none'; }
      fadeIn(grid);
    }

    function prodCard(p) {
      return `
        <div class="product-card fade-item">
          <div class="product-thumb" style="background:linear-gradient(135deg,${p.color},${p.color}88)">
            <div class="product-thumb-inner"></div>
          </div>
          <div class="product-info"><h3>${p.name}</h3><p>${p.desc}</p></div>
        </div>`;
    }

    function productMore() {
      prodShown = Math.min(prodShown + 4, products.length);
      renderProduct();
    }

    function productNav(dir) {
      const tp = Math.ceil(products.length / PROD_PER_PAGE);
      prodPage = Math.max(0, Math.min(tp - 1, prodPage + dir));
      renderProductPag();
      document.getElementById('product').scrollIntoView({ behavior: 'smooth' });
    }

    /* ─── Post overlay ─── */
    async function openPost(id) {
      const overlay = document.getElementById('postOverlay');
      const post = posts.find(p => p.id === id);
      if (!post) return;

      document.getElementById('postHeaderDate').textContent = formatDate(post.date);
      document.getElementById('postMeta').innerHTML = post.tags.map(tag).join(' ');
      document.getElementById('postContent').innerHTML = '<p style="color:var(--text-soft)">読み込み中...</p>';
      overlay.classList.add('open');
      document.body.style.overflow = 'hidden';

      try {
        const res = await fetch(`posts/${id}.md`);
        if (!res.ok) throw new Error('Not found');
        const md = await res.text();
        document.getElementById('postContent').innerHTML = marked.parse(md);
      } catch {
        document.getElementById('postContent').innerHTML =
          '<p style="color:var(--text-soft);font-style:italic">記事の読み込みに失敗しました。</p>';
      }
    }

    function closePost(e) {
      if (e && e.target !== e.currentTarget) return;
      document.getElementById('postOverlay').classList.remove('open');
      document.body.style.overflow = '';
    }

    document.addEventListener('keydown', e => { if (e.key === 'Escape') closePost(); });

    /* ─── Scroll tracking ─── */
    const SECTIONS = ['home', 'blog', 'product', 'about'];

    function updateNav() {
      const sy = window.scrollY + 120;
      let cur = 'home';
      for (const id of SECTIONS) {
        const el = document.getElementById(id);
        if (el && el.offsetTop <= sy) cur = id;
      }
      document.querySelectorAll('.nav-link').forEach(l => l.classList.toggle('active', l.dataset.section === cur));
      document.querySelectorAll('.page-dot').forEach(d => {
        const a = d.dataset.section === cur;
        d.classList.toggle('active', a);
        d.style.width = a ? '20px' : '6px';
      });
      document.getElementById('navbar').classList.toggle('scrolled', window.scrollY > 10);
    }

    function goTo(id) { document.getElementById(id).scrollIntoView({ behavior: 'smooth' }); }

    /* ─── Intersection observer ─── */
    function setupObserver() {
      const obs = new IntersectionObserver(entries => {
        entries.forEach(e => {
          if (e.isIntersecting) {
            e.target.classList.add('visible');
            fadeIn(e.target);
          }
        });
      }, { threshold: 0.08 });
      document.querySelectorAll('.section').forEach(s => obs.observe(s));
    }

    function fadeIn(parent) {
      requestAnimationFrame(() => {
        parent.querySelectorAll('.fade-item:not(.show)').forEach((el, i) => {
          setTimeout(() => el.classList.add('show'), i * 70);
        });
      });
    }

    /* ─── Go ─── */
    init();
  </script>
</body>
</html>
